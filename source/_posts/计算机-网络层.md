---
title: 计算机-网络层
date: 2021-05-29 12:10:49
tags:
categories:
---



网络层功能

```
异构网络互联

网络层的目的是实现两个端系统之间的数据透明传送，具体功能包括寻址和路由选择、连接的建立、保持和终止
```

中继设备

```
物理层的中继系统：中继器，集线器Hub

数据链路层的中继系统：网桥，交换机

网络层的中继系统：路由器

网络层以上的中继系统：网关
```



流量控制

```
接收方告诉发送方，我接收不了那么多了，你待会再发
```



拥塞控制

```
首先是拥塞————网络负载增加但是吞吐量减小
基于储存转发的机制而出现的现象
```

路由算法

```
距离-向量路由算法 例如：RIP
链路状态路由算法 例如：OSPF
```

路由收敛

```
路由链路自学习到稳定
```



RIP

```
路由表:
< 目的网络，距离，下一跳路由器 >

简述：
每30秒广播一次更新路由（只传给相邻的路由）
对于从X传来的RIP报文，把所有下一跳的地址都改为X，并且距离都加1
注意：
1.是修改传过来的报文，而不是修改自己的表
2.RIP报文中的内容其实是发送方的路由表

接下来才是更新接收方的路由表：
（1）如果RIP报文中有新的目的网络，则直接添加到路由表
（2）如果RIP报文中出现已有目的网络，而且路由表中下一跳地址是X，则直接替换（更新状态）
（3）如果RIP报文中出现已有目的网络，但是下一跳地址不是X，则路由表取最小值

```

![image-20210529125158034](https://picgo-freejim.oss-cn-beijing.aliyuncs.com/to_upload/image-20210529125158034.png)

![image-20210529125236146](https://picgo-freejim.oss-cn-beijing.aliyuncs.com/to_upload/image-20210529125236146.png)

RIP特点

```
优点：
实现简单，开销小，收敛快

缺点:
当出现故障时，坏消息传播得慢，收敛慢
（故障信息只能一跳一跳地传，远处路由知道得慢）
最大距离为15（16表示不可达）
储存的是完整的路由表，如果网络规模大的话，开销大
RIP不管开销，认为跳数最少得就是最优

```



OSPF

```
使用Dijkstra算法构建最优链路
每10秒发送一个Hello分组，验证可达性
如果40秒没有收到某路由的Hello分组，则表示其不可达了
```

关于Dijkstra算法可以参考[这篇文章](https://blog.csdn.net/a10201516595/article/details/103646663)

报文

```
不用UDP，直接用IP数据报传输
```



![image-20210529125328527](https://picgo-freejim.oss-cn-beijing.aliyuncs.com/to_upload/image-20210529125328527.png)

```
区域标识符：看下图理解区域
路由器标识符：发送方的IP
```

![image-20210529125541423](https://picgo-freejim.oss-cn-beijing.aliyuncs.com/to_upload/image-20210529125541423.png)

OSPF特殊路由器

```
R6：自治系统边界路由器——与外界别的自治系统联系
R3，R7，R4：区域边界路由器——把各区域与主干区域连接起来
主干区域内的都叫主干路由器（包括上面提到的四个特殊路由器）
```





OSPF种类

![image-20210529125831974](https://picgo-freejim.oss-cn-beijing.aliyuncs.com/to_upload/image-20210529125831974.png)

![image-20210529125841175](https://picgo-freejim.oss-cn-beijing.aliyuncs.com/to_upload/image-20210529125841175.png)

